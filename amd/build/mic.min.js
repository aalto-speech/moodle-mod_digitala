define ("mod_digitala/mic",["exports","RecordRTC"],function(a,b){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.initializeMicrophone=void 0;b=function(a){return a&&a.__esModule?a:{default:a}}(b);var c,d=!1,e,f=function(a){switch(d){case!1:navigator.mediaDevices.getUserMedia({audio:!0}).then(function(a){var e={audioBitsPerSecond:16e3,type:"audio",recorderType:b.default.StereoAudioRecorder,mimeType:"audio/wav"};c=new b.default(a,e);d=!0;c.startRecording();window.console.log("started to record")}).catch(function(a){window.console.error(a)});break;case!0:d=!1;c.stopRecording(function(){var b=c.getBlob();window.console.log("audioBlob:",b);var d=URL.createObjectURL(b);e=new Audio(d);window.console.log("audioUrl",d);document.getElementById("id_submitbutton").style.display="";if(1===a){var f=new FileReader;f.readAsDataURL(b);f.onload=function(){window.console.log(">",f.result);document.forms.answerrecording[0].value=f.result}}});window.console.log("recording stopped");break;}},g=function(){if(e!==void 0){e.play()}};a.initializeMicrophone=function initializeMicrophone(a){var b=document.getElementById("record"),c=document.getElementById("stopRecord"),d=document.getElementById("listenButton");c.disabled=!0;d.disabled=!0;window.console.log("page number",a);b.onclick=function(){b.style.backgroundColor="blue";b.disabled=!0;c.disabled=!1;d.style.display="none";f(a)};c.onclick=function(){b.style.backgroundColor="red";b.disabled=!1;c.disabled=!0;d.disabled=!1;d.style.display="inline-block";f(a)};d.onclick=function(){g()}}});
//# sourceMappingURL=mic.min.js.map
